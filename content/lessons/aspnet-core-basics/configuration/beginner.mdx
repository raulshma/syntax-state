# Configuration & Settings

Every app needs settings - like your database address, feature toggles, or API keys. ASP.NET Core makes it super easy to manage these with configuration files!

---

## Section 1: Configuration Basics

### Your App's Settings Menu

Think of configuration like the **Settings app on your phone**:

- You can change the background without reinstalling the whole phone
- Some settings are for everyone, others are personal
- Important settings (like passwords) are kept extra safe

<ConfigurationVisualizer mode="beginner" />

### What's Inside appsettings.json?

```json
{
  "Logging": {
    "LogLevel": {
      "Default": "Information"
    }
  },
  "AppSettings": {
    "Title": "My Awesome App",
    "MaxUsers": 100
  }
}
```

### Why Use Configuration?

| Hardcoded | Configuration |
|:-------------|:-----------------|
| Hard to change | Easy to update |
| Same everywhere | Different per environment |
| Secrets visible | Secrets kept safe |

<ProgressCheckpoint section="config-basics" xpReward={8} />

---

## Section 2: Reading Configuration

### Getting Values in Code

```csharp
// In Program.cs or a controller
var title = builder.Configuration["AppSettings:Title"];
var maxUsers = builder.Configuration.GetValue<int>("AppSettings:MaxUsers");
```

### Nested Values

For nested JSON like this:
```json
{
  "Database": {
    "Server": "localhost",
    "Port": 5432
  }
}
```

Use colons to access nested values:
```csharp
var server = Configuration["Database:Server"];  // "localhost"
var port = Configuration["Database:Port"];      // "5432"
```

### Connection Strings

A special section for database connections:
```json
{
  "ConnectionStrings": {
    "Default": "Server=localhost;Database=MyDb"
  }
}
```

```csharp
var connString = builder.Configuration.GetConnectionString("Default");
```

<ProgressCheckpoint section="config-intermediate" xpReward={8} />

---

## Section 3: Configuration Best Practices

### Don't Store Secrets in appsettings.json!

For sensitive data like API keys:

**Development**: Use User Secrets
```bash
dotnet user-secrets set "ApiKey" "my-secret-key"
```

**Production**: Use Environment Variables
```bash
export ApiKey="my-secret-key"
```

### Environment-Specific Settings

Create separate files:
- `appsettings.json` - Base settings
- `appsettings.Development.json` - Dev overrides
- `appsettings.Production.json` - Prod overrides

### Key Takeaways

<InfoBox type="tip">
**Remember:**
- Store settings in `appsettings.json`, not in code
- Use `:` to access nested values
- Never commit secrets to source control
- Use environment-specific files for different settings
</InfoBox>

<ProgressCheckpoint section="config-advanced" xpReward={4} />
