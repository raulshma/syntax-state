# Built-in Middleware: Your Ready-Made Toolkit üß∞

Imagine you want to build a house. Would you forge your own nails? Craft your own screws? Of course not! You'd use **ready-made tools**.

ASP.NET Core comes with a **toolbox full of middleware** for common tasks. Let's explore what's available!

## Section 1: Built-in Overview

### The Toolbox Analogy

| **Tool** | **What It Does** |
| :------- | :--------------- |
|  Exception Handler | Catches errors and shows nice pages |
|  HTTPS Redirection | Forces secure connections |
|  Static Files | Serves CSS, JS, images |
| Ô∏è Routing | Finds the right endpoint |
|  Authentication | Checks who you are |
|  Authorization | Checks what you can do |

<InfoBox type="tip">
  **Don't reinvent the wheel!** ASP.NET Core has middleware for most common tasks.
</InfoBox>

<BuiltInMiddlewareExplorer mode="beginner" />

<ProgressCheckpoint section="builtin-overview" xpReward={10} />

---

## Section 2: Security Middleware

### HTTPS Redirection

**Automatically upgrades HTTP to HTTPS:**

```csharp
app.UseHttpsRedirection();
```

When someone visits `http://yoursite.com`, they're automatically redirected to `https://yoursite.com`.

### Authentication & Authorization

```csharp
app.UseAuthentication();  // Who are you?
app.UseAuthorization();   // What can you do?
```

| Middleware | Question | Example |
| :--------- | :------- | :------ |
| Authentication | "Who are you?" | Login with username/password |
| Authorization | "Can you do this?" | Check if user is admin |

### Exception Handler

**Catches errors so users see a friendly page:**

```csharp
app.UseExceptionHandler("/Error");
```

<ProgressCheckpoint section="security-middleware" xpReward={10} />

---

## Section 3: Performance Middleware

### Static Files

**Serves your CSS, JavaScript, and images from wwwroot:**

```csharp
app.UseStaticFiles();
```

Files in `wwwroot/` folder are served directly without going through your code.

### Response Caching

**Caches responses to speed up repeated requests:**

```csharp
app.UseResponseCaching();
```

### A Complete Setup

```csharp
var builder = WebApplication.CreateBuilder(args);
var app = builder.Build();

app.UseExceptionHandler("/Error");
app.UseHttpsRedirection();
app.UseStaticFiles();
app.UseRouting();
app.UseAuthentication();
app.UseAuthorization();

app.MapGet("/", () => "Hello World!");

app.Run();
```

### Key Takeaways

| Concept | Description |
| :------ | :---------- |
| üß∞ **Use built-in** | Don't write your own error handler |
|  **Always HTTPS** | Security is non-negotiable |
|  **Order matters** | Exception Handler first |
|  **One line, one job** | Each `app.Use*()` adds one capability |

<ProgressCheckpoint section="performance-middleware" xpReward={10} />
