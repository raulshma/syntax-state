# SUBSTRING and REPLACE: Extract and Transform

Get parts of strings and replace text!

## ️ SUBSTRING: Extract Part of String

```sql
-- SUBSTRING(string, start, length)
SELECT SUBSTRING('Hello World', 1, 5);   -- 'Hello'
SELECT SUBSTRING('Hello World', 7, 5);   -- 'World'
```

##  SUBSTRING Syntax

```sql
-- ANSI Standard
SELECT SUBSTRING(column FROM start FOR length);

-- Common syntax
SELECT SUBSTRING(column, start, length);

-- SQL Server also has
SELECT SUBSTR(column, start, length);
```

##  REPLACE: Change Text

```sql
SELECT REPLACE('Hello World', 'World', 'SQL');  -- 'Hello SQL'
SELECT REPLACE('aaa', 'a', 'b');                -- 'bbb' (all occurrences)
```

##  Practical Examples

```sql
-- Extract area code from phone
SELECT SUBSTRING(phone, 1, 3) AS area_code FROM contacts;
-- '555-123-4567' → '555'

-- Remove characters
SELECT REPLACE(phone, '-', '') AS clean_phone FROM contacts;
-- '555-123-4567' → '5551234567'

-- Get file extension
SELECT SUBSTRING(filename, LEN(filename) - 2, 3) AS ext FROM files;
-- 'document.pdf' → 'pdf'
```

##  LEFT and RIGHT

Easier for getting starts/ends:

```sql
SELECT LEFT('Hello', 2);   -- 'He'
SELECT RIGHT('Hello', 2);  -- 'lo'

-- First 3 characters of name
SELECT LEFT(name, 3) FROM products;

-- Last 4 digits of card
SELECT RIGHT(card_number, 4) AS last_four FROM payments;
```

##  Quick Reference

| Function  | Purpose         | Example                          |
| --------- | --------------- | -------------------------------- |
| SUBSTRING | Extract portion | `SUBSTRING('abc', 1, 2)` → 'ab'  |
| LEFT      | First N chars   | `LEFT('abc', 2)` → 'ab'          |
| RIGHT     | Last N chars    | `RIGHT('abc', 2)` → 'bc'         |
| REPLACE   | Replace all     | `REPLACE('ab', 'a', 'x')` → 'xb' |

<StringFunctionPlayground mode="beginner" />

<ProgressCheckpoint section="substring-replace-complete" xpReward={25} />
